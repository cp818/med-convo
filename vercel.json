{
  "version": 2,
  "builds": [
    { "src": "frontend/**", "use": "@vercel/static" },
    { "src": "backend/main.py", "use": "@vercel/python" },
    { "src": "token_server/main.py", "use": "@vercel/python" }
  ],
  "routes": [
    { "src": "/api/stream", "dest": "backend/main.py" },
    { "src": "/api/tts", "dest": "backend/main.py" },
    { "src": "/api/health", "dest": "backend/main.py" },
    { "src": "/api/deepgram-proxy", "dest": "backend/main.py" },
    { "src": "/api/get-token", "dest": "token_server/main.py" },
    { "src": "/api/token-health", "dest": "token_server/main.py" },
    { "src": "/(.*)", "dest": "frontend/$1" }
  ],
  "env": {
    "ELEVENLABS_API_KEY": "@elevenlabs_api_key",
    "DEEPGRAM_API_KEY": "@deepgram_api_key",
    "GEMINI_API_KEY": "@gemini_api_key",
    "LIVEKIT_API_KEY": "@livekit_api_key",
    "LIVEKIT_SECRET": "@livekit_secret"
  }
}
